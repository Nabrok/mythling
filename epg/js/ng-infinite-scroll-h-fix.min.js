/*! ng-infinite-scroll - v1.2.0 - 2015-02-14 
 * - modified for horizontal scrolling: https://github.com/sroze/ngInfiniteScroll/issues/69
 * - plus fixes applied to support horizontal scrolling with window as container */
var mod;mod=angular.module("infinite-scroll",[]),mod.value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(a,b,c,d){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@",infiniteScrollHorizontal:"="},link:function(e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;return B=angular.element(b),w=null,x=null,i=null,j=null,r=!0,A=!1,z=null,q=function(a){return a=a[0]||a,isNaN(a.offsetHeight)?a.document.documentElement.clientHeight:a.offsetHeight},width=function(a){return a=a[0]||a,isNaN(a.offsetWidth)?a.document.documentElement.clientWidth:a.offsetWidth},scrollWidth=function(a){return a=a[0]||a,a.scrollWidth},s=function(a){return a[0].getBoundingClientRect&&!a.css("none")?a[0].getBoundingClientRect().top+u(a):void 0},t=function(a){return a[0].getBoundingClientRect&&!a.css("none")?a[0].getBoundingClientRect().left+v(a):void 0},u=function(a){return a=a[0]||a,isNaN(window.pageYOffset)?a.document.documentElement.scrollTop:a.ownerDocument.defaultView.pageYOffset},v=function(a){return a=a[0]||a,isNaN(window.pageXOffset)?a.document.documentElement.scrollLeft:a.ownerDocument.defaultView.pageXOffset},p=function(){var b,c,d,g,h;return j===B?scrollHorizontal?(b=width(j)+v(j[0].document.documentElement),d=t(f)+scrollWidth(f)):(b=q(j)+u(j[0].document.documentElement),d=s(f)+q(f)):(b=scrollHorizontal?width(j):q(j),c=0,scrollHorizontal?void 0!==t(j)&&(c=t(j)):void 0!==s(j)&&(c=s(j)),d=scrollHorizontal?t(f)-c+scrollWidth(f):s(f)-c+q(f)),A&&(d=scrollHorizontal?width((f[0].ownerDocument||f[0].document).documentElement):q((f[0].ownerDocument||f[0].document).documentElement)),g=d-b,h=scrollHorizontal?g<=width(j)*w+1:g<=q(j)*w+1,h?(i=!0,x?e.$$phase||a.$$phase?e.infiniteScroll():e.$apply(e.infiniteScroll):void 0):i=!1},y=function(a,b){var d,e,f;return f=null,e=0,d=function(){var b;return e=(new Date).getTime(),c.cancel(f),f=null,a.call(),b=null},function(){var g,h;return g=(new Date).getTime(),h=b-(g-e),0>=h?(clearTimeout(f),c.cancel(f),f=null,e=g,a.call()):f?void 0:f=c(d,h,1)}},null!=d&&(p=y(p,d)),e.$on("$destroy",function(){return j.unbind("scroll",p),null!=z?(z(),z=null):void 0}),o=function(a){scrollHorizontal=a},e.$watch("infiniteScrollHorizontal",o),o(e.infiniteScrollHorizontal),m=function(a){return w=parseFloat(a)||0},e.$watch("infiniteScrollDistance",m),m(e.infiniteScrollDistance),l=function(a){return x=!a,x&&i?(i=!1,p()):void 0},e.$watch("infiniteScrollDisabled",l),l(e.infiniteScrollDisabled),n=function(a){return A=a},e.$watch("infiniteScrollUseDocumentBottom",n),n(e.infiniteScrollUseDocumentBottom),h=function(a){return null!=j&&j.unbind("scroll",p),j=a,null!=a?j.bind("scroll",p):void 0},h(B),e.infiniteScrollListenForEvent&&(z=a.$on(e.infiniteScrollListenForEvent,p)),k=function(a){if(null!=a&&0!==a.length){if(a instanceof HTMLElement?a=angular.element(a):"function"==typeof a.append?a=angular.element(a[a.length-1]):"string"==typeof a&&(a=angular.element(document.querySelector(a))),null!=a)return h(a);throw new Exception("invalid infinite-scroll-container attribute.")}},e.$watch("infiniteScrollContainer",k),k(e.infiniteScrollContainer||[]),null!=g.infiniteScrollParent&&h(angular.element(f.parent())),null!=g.infiniteScrollImmediateCheck&&(r=e.$eval(g.infiniteScrollImmediateCheck)),c(function(){return r?p():void 0},0,1)}}}]);